function homeController(n,t,i,r,u,f,e){n.productName="";n.selectedCity={};n.products=[];n.loading=!1;n.simulateQuery=!1;n.isDisabled=!1;n.searchText="";n.searchSpecific=function(){n.productName===""&&(n.productName="allProducts");n.selectedCity.id&&n.selectedCity.id!==0||(n.selectedCity.id="allCities");this.getProducts(n.productName,n.selectedCity.id)};n.showAll=function(){this.getProducts("allProducts","allCities")};n.getProducts=function(n,t){i.url("/products/"+n+"/"+t)};n.init=function(){n.loading=!0;r.queryProducts("all",6,0,"DatePublished",sortDirection.descending).then(function(t){t.data&&(n.products=t.data.products)},function(){console.log(error)}).finally(function(){n.loading=!1})};n.openCitiesModal=function(){let t=u.open({animation:!0,templateUrl:"Site/choseCity/choseCity.html",controller:"choseCityController",resolve:{cities:function(){return n.$parent.cities}}});t.result.then(function(t){n.selectedCity=t;$("#searchBtn").focus()})};n.setProductNavigation=function(){let t=n.products.map(function(n){return n.id}),i=f.getSortOptions()[2];e.setValues("all",0,i,6,t)};n.showProduct=function(t){n.setProductNavigation();i.url("/product/"+t)};n.init()}app.controller("homeController",["$scope","usersService","$location","productsService","$uibModal","sortOptionsService","productNavigationService",homeController]);