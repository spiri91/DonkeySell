function customAlertsController(n,t,i){n.customAlerts=[];n.productName="";n.user=n.$parent.user;n.token=n.$parent.token;n.init=function(){t.getAlerts(n.user.userName,n.token).then(function(t){t.data&&(n.customAlerts=t.data)},function(n){console.log(n)})};n.addNewCustomAlert=function(){let r=new CustomAlert;r.userId=n.user.userId;r.productName=n.productName;t.postAlert(r,n.token,n.user.userName).then(function(t){t.data&&n.customAlerts.push(t.data);n.productName=""},function(n){i.error("An error ocurrend! :(");console.log(n)})};n.deleteCustomAlert=function(r){t.deleteAlert(r,n.token,n.user.userName).then(function(t){if(t.data){i.success("Alert removed!");let r=n.customAlerts.filter(function(n){return n.id===t.data})[0],u=n.customAlerts.indexOf(r);n.customAlerts.splice(u,1)}},function(n){console.log(n)})};n.init()}app.controller("customAlertsController",["$scope","customAlertsService","toastr",customAlertsController]);