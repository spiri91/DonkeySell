function changePasswordController(n,t,i,r,u,f){n.username=f;n.oldPassword="";n.newPassword="";n.confirmPassword="";n.showError=!1;n.showPasswordConfirmationError=!1;n.loading=!1;n.checkPassword=function(){let t=new RegExp(/^([a-zA-Z0-9_-]){8,16}$/),i=t.exec(n.newPassword);n.showError=i===null?!0:!1};n.changePassword=function(){n.loading=!0;let t=new ResetPassword(n.oldPassword,n.newPassword);i.changePassword(n.username,t).then(function(){u.success("Password was changed!");n.cancel()},function(){u.error("Change password failed!")}).finally(function(){n.loading=!1})};n.checkPasswordConfirmation=function(){n.showPasswordConfirmationError=n.newPassword===n.confirmPassword?!1:!0};n.cancel=function(){t.close()}}app.controller("changePasswordController",["$scope","$uibModalInstance","usersService","$routeParams","toastr","username",changePasswordController]);