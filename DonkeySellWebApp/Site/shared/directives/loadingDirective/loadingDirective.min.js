app.directive("loading",["$http",function(n){return{restrict:"A",link:function(t,i){t.isLoading=function(){return n.pendingRequests.length>0};t.$watch(t.isLoading,function(n){n?i.show():i.hide()})}}}]);