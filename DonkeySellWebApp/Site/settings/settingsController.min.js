function settingsController(n,t){n.useCustomBackground=!1;n.useFixedNavbar=!1;n.useFixedNavbarId="useFixedNavbar";n.backgroundImageId="backgroundImage";n.useBackgroundId="useBackground";n.setBackgroundImage=function(){if(document.getElementById("backgroundImage").files[0]){let i=document.getElementById("backgroundImage").files[0],t=new FileReader;t.readAsDataURL(i);t.onload=function(){let i=t.result;n.setInStorage(n.backgroundImageId,i);let r="url("+i+")";n.applyImageBackground(r);n.setInStorage(n.useBackgroundId,"true")}}};n.init=function(){n.setBackgroundImagePreference();n.setNavbarPreference()};n.applyImageBackground=function(n){$("#body").css("background-image",n)};n.changeBackgroundPreference=function(){let t=n.useCustomBackground.toString();t==="true"?(n.useCustomBackground=!0,n.setInStorage(n.useBackgroundId,"true"),document.getElementById("backgroundImage").click()):(n.useCustomBackground=!1,n.applyImageBackground("none"),n.setInStorage(n.useBackgroundId,"false"))};n.setBackgroundImagePreference=function(){let t=n.getFromStorage(n.useBackgroundId);if(t==="true"){n.useCustomBackground=!0;let t=n.getFromStorage(n.backgroundImageId),i="url("+t+")";n.applyImageBackground(i)}else n.useCustomBackground=!1,n.applyImageBackground("none")};n.setNavbarPreference=function(){let t=n.getFromStorage(n.useFixedNavbarId);t==="true"?($("#navbar").addClass("navbar-fixed-top"),$("#body").addClass("added-margin-top"),n.useFixedNavbar=!0):($("#navbar").removeClass("navbar-fixed-top"),$("#body").removeClass("added-margin-top"),n.useFixedNavbar=!1)};n.changeNavbarPreference=function(){let t=n.useFixedNavbar.toString();n.setInStorage(n.useFixedNavbarId,t);n.setNavbarPreference()};n.setInStorage=function(n,i){t.set(n,i)};n.getFromStorage=function(n){return t.get(n)};n.init()}app.controller("settingsController",["$scope","storageService",settingsController]);